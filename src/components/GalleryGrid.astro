---
import { GalleryItem } from './lit/GalleryItem.ts'
import '../styles/components/gallerygrid.scss'

import { publicIds } from '../scripts/fetchImg';
import { type GalleryImageProp, transformImageProps } from '../scripts/transformImg';

// Set img src to public URLs
let transform = "t_Thumbnail_360";
let items : GalleryImageProp[] = [];
if (publicIds) items = transformImageProps(publicIds, transform);
---

<gallery-grid>
    <div id="gallery-grid">
        {items.map((x) => (
            // @ts-ignore
            <GalleryItem client:visible src={x.src} label={x.label} />
            )
        )}
    </div>
</gallery-grid>